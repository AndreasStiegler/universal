/*
 * GPII Canopy Matchmaker
 *
 * Copyright 2012 OCAD University
 * Copyright 2012 Antranig Basman
 *
 * Licensed under the New BSD license. You may not use this file except in
 * compliance with this License.
 *
 * The research leading to these results has received funding from the European Union's
 * Seventh Framework Programme (FP7/2007-2013)
 * under grant agreement no. 289016.
 *
 * You may obtain a copy of the License at
 * https://github.com/GPII/universal/blob/master/LICENSE.txt
 */

var fluid = fluid || require("infusion");

var matchMaker = fluid.registerNamespace("gpii.matchMaker");
var flat = fluid.registerNamespace("gpii.matchMaker.flat");

flat.disposeStrategy = function (leaves, solrecs) {
    fluid.each(solrecs, function(solrec) {
        var accepted = fluid.find(leaves, function (leaf) {
            return fluid.get(solrec.skeleton, leaf, fluid.model.escapedGetConfig);
        });
        solrec.disposition = accepted? "accept" : "reject";
    });
    return solrecs;
};
